# 콘솔 기반 키오스크 프로젝트
필수 Lv 1 부터 Lv 5,그리고 도전 Lv 1 순으로 점차적으로 기능을 확장해 나간 콘솔 기반 키오스크 프로그램 입니다.
현재 문서는 도전 Lv 1 기준으로 작성되었습니다.

## 목차 
* 개발 기간
* 개발 환경
* 구현한 기능
* 프로그램 확장 과정
* 패키지 구조
* 시스템 동작 흐름도
* 클래스 구조도
* 사용 방법
* 실행 예시
* Trouble Shooting
* Code Refactoring

### 개발 기간 
25.10.22~25.10.29

### 개발 환경 
* 개발 언어 : JAVA
* JDK 버전 : 17
* 개발 툴 : IntelliJ IDEA
* 프로젝트 타입 : 콘솔 기반 자바 프로젝트
* 실행 방법 :
  1. Main.java 실행
  2. 콘솔에 출력되는 메뉴에 따라 원하는 음식 메뉴를 주문 진행
 
### 구현한 기능 
| 번호| 기능명 | 설명 |
|-------|-------|-------|
|1| 카테고리 조회 | 토스트, 사이드, 음료 등 카테고리를 콘솔에 출력합니다. |
|2| 음식 메뉴 조회 | 선택한 메뉴에 해당하는 음식 메뉴 목록을 콘솔에 출력합니다. |
|3| 장바구니 담기 | 사용자가 선택한 메뉴를 장바구니에 추가합니다. (여러번 추가도 가능) |
|4| 장바구니 비우기 | 사용자가 장바구니에 담았던 메뉴를 전부 삭제합니다. |
|5| 주문하기 | 사용자가 선택한 메뉴와 주문 수량을 출력하고 총 금액을 계산하고 주문을 완료합니다. |

### 프로그램 확장 과정 
| 레벨 | 구현 내용 |
|-----|-----|
| Lv 1 | 메뉴 데이터 출력 및 입력 - Scanner, 조건문, 반복문 사용 |
| Lv 2 | 객체지향 설계 - MenuItem 클래스와 List를 통해 메뉴 관리 |
| Lv 3 | 프로그램 제어를 클래스로 분리 - Kiosk클래스를 통해 전체 순서 제어 |
| Lv 4 | 메뉴 카테고리 추가 - Menu클래스를 생성해 MenuItem 클래스를 관리 |
| Lv 5 | 캡슐화 적용 |
| 도전 Lv 1 | 장바구니 생성 및 관리 기능 - Cart 클래스 추가 |

### 패키지 구조
<img width="229" height="279" alt="image" src="https://github.com/user-attachments/assets/52e73892-be60-4418-888b-6a103b0955a5" />

### 시스템 동작흐름도
키오스크 프로그램의 전체 실행 과정을 나타낸 흐름도이다.
<img width="1118" height="740" alt="image" src="https://github.com/user-attachments/assets/4d19617f-3ac2-4a4d-83e0-99a9497094b9" />

### 클래스 구조도
프로젝트 내 주요 클래스 간의 관계를 시각화한 다이어그램이다.

<img width="553" height="693" alt="image" src="https://github.com/user-attachments/assets/e86593d9-86e3-4819-b491-2095615f0e69" />

### 구조 설명
Main : 프로그램 실행 진입점  
Kiosk : 카테고리 선택, 메뉴 조회, 주문, 장바구니 관리 담당  
Menu : 각 카테고리별 메뉴 항목 관리  
MenuItem : 개별 음식 메뉴의 정보(이름, 가격, 설명) 저장  
Cart : 장바구니 내 메뉴 관리 및 총합 계산  
CartItem : 개별 메뉴의 수량을 관리  

### 사용 방법 
1. IntelliJ 실행
2. KioskProject 폴더를 open
3. src/challengekiosks/Main.java 파일을 열기
4. 상단 메뉴에서 Run 클릭 해서 실행
5. 콘솔 창에 메뉴를 선택 후 주문 시작

### 실행 예시
카테고리 선택 후 주문까지의 예시 

<img width="659" height="596" alt="image" src="https://github.com/user-attachments/assets/b1c4b3a4-851f-405d-b5e3-73bc6a4af71e" />
<img width="659" height="512" alt="image" src="https://github.com/user-attachments/assets/f06d5a2c-6ef5-4605-bb2b-ae6f5678e59c" />

### Trouble Shooting
| 문제 상황 | 원인 | 해결 방법 | 
|-----|-----|-----| 
| 잘못된 입력이 들어왔을 때 "잘못 입력했습니다."만 출력하게 작성했지만, 입력 오류가 발생하면 "메뉴를 선택하세요"와 "잘못 입력했습니다."가 반복 출력되며 프로그램이 종료되지 않는 문제가 발생 (Lv 1) | Scanner에 잘못 입력된 값이 초기화가 안 되고 계속 남아 있어 예외가 발생 | sc.next()를 사용해 잘못 입력된 값을 비워서 해결 | 
| switch문으로 메뉴 선택을 처리했더니, 메뉴 추가 시 case문 수정해야 하는 문제가 발생 (Lv 2) | 메뉴를 하드코딩되어 있어 확장성이 떨어짐 | List 활용하여 메뉴를 동적으로 관리하도록 변경 | 
| menu클래스를 추가 후, 메뉴 출력 시 잘못된 객체 접근으로 오류가 발생 (Lv 4)| showMenu() 내부에서 메뉴 접근을 잘못 참조함 | 팀원의 도움으로 this.menuItems.get(i).getName()으로 수정하여 문제 해결 |
| 장바구니 수량 체크를 위해 이중 for문을 사용했지만, 동일 메뉴가 중복돼서 출력되는 문제 발생 (도전 Lv 1)| 중복으로 담긴 메뉴를 수량만큼 중복 출력함 | List를 이용해 처리한 메뉴 이름을 저장하고, contains()로 중복 여부를 확인하여 출력되지 않도록 수정 |

### Code Refactoring
도전 Lv 1을 만들면서 장바구니에 담긴 수량을 체크하는 부분에서 막혔습니다.
map 컬렉션 쓰면 쉬게 할 수 있을 거라는 팀원의 조언이 있었지만, 기존에 다른 방법을 생각하던 방식이 있어서 일단 생각했던 방향으로 만들어 보기로 했습니다.
이중 for문을 사용해서 같은 메뉴가 나오면 카운트가 올라가는 방식으로 시도를 해봤지만, 장바구니에 담긴 메뉴가 중복돼서 출력하는 문제가 발생했습니다. 
이미 처리한 메뉴 이름을 저장해 중복을 방지했고 중복된 값이 있으면 contains()를 사용해 다시 출력하지 않도록 기능을 추가해서 문제를 해결했지만, 
메뉴의 수량을 Cart클래스에서 관리하도록 했지만, Cart클래스가 과도한 역할을 가진 것 같아서 CartItem이 장바구니에서 각 메뉴와 수량을 관리하는 방식이 더 적절할 것 같아서 구조를 변경해서 가독성을 높였습니다.

### 향후 개선 계획
Enum, 제네릭, 람다, 스트림을 사용한 키오스크 Lv 2 내용인 유형별 할인율 관리와 장바구니 조회 기능 및 단품 삭제 기능을 제작예정입니다.

